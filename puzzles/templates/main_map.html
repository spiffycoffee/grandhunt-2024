{% extends "base.html" %}
{% load i18n %}
{% load static %}
{% block content %}

{% if hunt_is_prereleased %}
<h3 style="text-align: center">
    {% translate "You are a pre-release testsolver, so you may be seeing puzzles that are locked for the general public. Please be careful!" %}
</h3>
{% endif %}

<div style="position:relative; width:100%, height:100%">
<img style="z-index: -10; width: 100%" src="{% static 'map_resources/main/wip-main-map.png' %}"/>
</div>

{% for key, value in milestones.items %}

{% if key == 'round1_open' %}
<div class="map_item abs-z1" style="top: 75%; left: 5%; width: 15%;" >
	<a href="/story#1">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-job.png' %}"/>
	</a>
</div>

<div class="map_item abs-z1" style="top: 50%; left: 10%; width: 15%;" >
	<a href="/round/the-museum-of-superb-relics">
	<img class="item_img abs-z1" style="width: 100%" src="{% static 'map_resources/main/wip-museum-relics.png' %}"/>
	{% if 'meta1_done' in milestones.keys %}
	<div class="hide abs-z5" style="top: 50%; left: 5%"> {{ milestones.meta1_done }} </div>
	{% endif %}
	</a>
</div>
{% endif %}

{% if key == 'meta1_done' %}
<div class="map_item abs-z1" style="top: 35%; left: 20%; width: 15%;" >
	<a href="/story#2">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-chase.png' %}"/>
	</a>
</div>

<div class="map_item abs-z1" style="top: 30%; left: 40%; width: 15%" >
	<a href="/round/the-lost-temple">
	<img class="item_img abs-z1" style="width: 100%" src="{% static 'map_resources/main/wip-lost-temple.png' %}"/>
	{% if 'meta2_done' in milestones.keys %}
	<div class="hide abs-z5" style="top: 40%; left: 5%"> {{ milestones.meta2_done }} </div>
	{% endif %}
	</a>
</div>
{% endif %}

{% if key == 'meta2_done' %}
<div class="map_item abs-z1" style="top: 25%; left: 50%; width: 15%;" >
	<a href="/story#3">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-escape.png' %}"/>
	</a>
</div>

<div class="map_item abs-z1" style="top: 40%; left: 80%; width: 15%" >
	<a href="/round/the-hack">
	<img class="item_img abs-z1" style="width: 100%" src="{% static 'map_resources/main/wip-the-hack.png' %}"/>
	{% if 'meta3_done' in milestones.keys %}
	<div class="hide abs-z5" style="top: 40%; left: 5%"> {{ milestones.meta3_done }} </div>
	{% endif %}
	</a>
</div>
{% endif %}

{% if key == 'meta3_done' %}
<div class="map_item abs-z1" style="top: 75%; left: 80%; width: 15%;" >
	<a href="/story#4">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-rendezvous.png' %}"/>
	</a>
</div>

<div class="map_item abs-z1" style="top: 60%; left: 30%; width: 15%" >
	<a href="/puzzle/the-blueprint">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-blueprint.png' %}"/>
	{% if 'runaround_done' in milestones.keys %}
	<div class="hide abs-z5" style="top: 40%; left: 5%"> {{ milestones.runaround_done }} </div>
	{% endif %}
	</a>
</div>
{% endif %}

{% if key == 'runaround_done' %}
<div class="map_item abs-z1" style="top: 60%; left: 50%; width: 15%" >
	<a href="/puzzle/the-secret-blueprint">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-secret-blueprint.png' %}"/>
	{% if 'meta4_done' in milestones.keys %}
	<div class="hide abs-z5" style="top: 40%; left: 5%"> {{ milestones.meta4_done }} </div>
	{% endif %}
	</a>
</div>
{% endif %}

{% if key == 'meta4_done' %}
<div class="map_item abs-z1" style="top: 75%; left: 45%; width: 15%;" >
	<a href="/story#5">
	<img class="item_img abs-z1" style="width: 100%"
	src="{% static 'map_resources/main/wip-the-rekindling.png' %}"/>
	</a>
</div>
{% endif %}

{% endfor %}

{% endblock %}

<!--
    <a href="{% url 'round' round.slug %}">
	style="position: absolute; z-index: 5; top: 50%; left: 10%; width: 10%" >
-->
